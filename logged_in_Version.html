<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crowd - Discover Events Near You</title>
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/footer.css">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
        }



        :root {
            --primary-color: #3a3247;
            --text-dark: #3a3247;
            --text-light: #585163;
            --white: #ffffff;
            --transition: all 0.3s ease;
            --page-padding: 20px;
            /* horizontal page padding used across layout */
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #3a3247;
            background-color: #fff;
            padding-top: 0px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hero-overlay {
            display: block;
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(8, 7, 15, 0.18) 20%, rgba(8, 7, 15, 0.55) 70%);
            z-index: 2;
            border-radius: 0px;
        }

        @media (min-width: 769px) {
            .hero-overlay {
                display: none;
            }
        }

        .hero-content {
            padding: 20px 16px;
            max-width: 100%;
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            height: 100%;
        }

        .hero-badge {
            display: none;
        }

        .hero-title-main {
            font-size: 28px;
            line-height: 1.05;
            color: #ffffff;
            text-align: left;
            margin-bottom: 10px;
        }

        .hero-subtitle {
            color: rgba(255, 255, 255, 0.95);
            font-size: 14px;
            text-align: left;
            margin-bottom: 16px;
        }

        .hero-actions {
            justify-content: flex-start;
            gap: 12px;
            margin-bottom: 12px;
            flex-wrap: nowrap;
        }

        .hero-btn.primary {
            padding: 10px 18px;
            border-radius: 999px;
            font-size: 14px;
            box-shadow: 0 6px 18px rgba(240, 85, 55, 0.28);
        }

        .hero-btn.secondary {
            background: rgba(255, 255, 255, 0.12);
            color: #fff;
            padding: 10px 18px;
            border-radius: 999px;
            font-size: 14px;
        }

        .hero-stats {
            margin-top: 18px;
            gap: 18px;
        }

        .stat-number {
            font-size: 18px;
            color: #fff;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.85);
            font-size: 12px;
        }

        .banner-dots {
            display: none;
        }

        .search-btn:hover {
            background: #e04429;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-left: auto;
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.75rem;
            width: 44px;
            height: 44px;
            margin-left: auto;
        }

        .mobile-menu-toggle span {
            display: block;
            width: 22px;
            height: 2px;
            background: #3a3247;
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 60px;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transform: translateY(-10px);
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
            pointer-events: none;
            padding: 1rem 0;
            border-top: 1px solid #e8e8e8;
        }

        .mobile-menu.active {
            opacity: 1;
            transform: translateY(0);
            visibility: visible;
            pointer-events: all;
        }

        .nav-action-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #39364f;
            transition: color 0.2s;
            cursor: pointer;
            padding: 0.5rem;
        }

        .nav-action-item:hover {
            color: #3a3247;
        }

        .nav-action-icon {
            font-size: 1.25rem;
            margin-bottom: 0.25rem;
        }

        .nav-action-text {
            font-size: 12px;
            font-weight: 500;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 20px;
            transition: background 0.2s;
            cursor: pointer;
            color: #39364f;
            position: relative;

        }

        .user-menu:hover {
            background: white;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #3a3247;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .user-email {
            font-size: 12px;
            color: #585163;
        }

        .dropdown-arrow {
            font-size: 12px;
            color: #716b7a;
        }



        .user-dropdown a {
            display: block;
            padding: 12px 16px;
            text-decoration: none;
            color: #333;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }

        .user-dropdown a:hover {
            background: white;
        }

        .user-dropdown a:last-child {
            border-bottom: none;
            color: #3a3247;
        }

        .user-dropdown a:last-child:hover {
            background: #fff5f4;
        }

        /* New user dropdown menu styling (grouped) */
        .user-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 220px;
            background: white;
            border: 1px solid #eee;
            border-radius: 8px;
            box-shadow: 0 8px 24px rgba(17, 24, 39, 0.08);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s ease;
            pointer-events: none;
            padding: 8px 0;
            z-index: 1200;
        }

        .user-dropdown.show {
            opacity: 1 !important;
            visibility: visible !important;
            transform: translateY(0) !important;
            pointer-events: all !important;
        }

        .user-dropdown .menu-group {
            padding: 4px 0;
        }

        .user-dropdown a {
            display: block;
            padding: 8px 12px;
            text-decoration: none;
            color: #222;
            font-size: 13px;
            transition: background 0.12s;
        }

        .user-dropdown a:hover {
            background: #f8f8f9;
        }

        /* Ensure dropdown links like "Interests" and "Log out" are black */
        .user-dropdown a {
            color: #111 !important;
        }

        /* Explicitly style the logout link if it appears as the last item */
        .user-dropdown a#logoutLink,
        .user-dropdown a:last-child {
            color: #111 !important;
        }

        .user-dropdown a:hover {
            background: #fcfcfd;
            color: #111 !important;
        }

        .user-dropdown .divider {
            height: 1px;
            background: #f0f0f2;
            margin: 4px 0;
        }

        /* Hero Section - Updated with Carousel */
        .hero {
            position: relative;
            min-height: 90vh;
            display: flex;
            align-items: center;
            color: var(--white);
            text-align: center;
            overflow: hidden;
            margin: 80px 20px -20px 20px;
            border-radius: 20px;
            z-index: 1;
        }

        /* Banner Carousel */
        .banner-carousel {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            height: 100%;
            overflow: hidden;
            border-radius: 20px;
        }

        .banner-slide {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .banner-slide.active {
            opacity: 1;
        }

        .banner-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .banner-dots {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 3;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background 0.3s;
        }

        .dot.active {
            background: #716b7a;
        }

        .hero-overlay {
            display: none;
        }

        @media (max-width: 768px) {
            .hero-overlay {
                display: block !important;
                position: absolute;
                inset: 0;
                background: linear-gradient(180deg, rgba(8, 7, 15, 0.18) 20%, rgba(8, 7, 15, 0.55) 70%);
                z-index: 2;
                border-radius: 0;
            }
        }

        .hero-content {
            position: relative;
            z-index: 3;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 2rem;
        }

        .badge-icon {
            font-size: 16px;
        }

        .hero-title-main {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }

        .hero-highlight {
            background: linear-gradient(45deg, #3a3247, #585163, #716b7a);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: none;
            padding: 8px 16px;
            border-radius: 8px;
            display: inline-block;
            margin: 0 8px;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 3rem;
            line-height: 1.6;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 4rem;
            flex-wrap: wrap;
        }

        .hero-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 16px 32px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .hero-btn.primary {
            background: #3a3247;
            color: white;
            box-shadow: 0 4px 20px rgba(58, 50, 71, 0.3);
        }

        .hero-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(58, 50, 71, 0.4);
            background: #2f2a3c;
        }

        .hero-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }

        .hero-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .btn-arrow {
            font-size: 1.2rem;
            transition: transform 0.2s;
        }

        .hero-btn:hover .btn-arrow {
            transform: translateX(4px);
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-divider {
            width: 1px;
            height: 40px;
            background: rgba(255, 255, 255, 0.3);
        }

        /* Categories Section */
        .categories {
            padding: 30px 0 1rem 0;
            background: transparent;
            margin: 0 20px;
        }

        .category-navigation {
            padding: 80px 0px;
            margin: 0 auto;
            width: 100%;
        }

        .category-grid {
            display: flex;
            justify-content: space-between;
            gap: 0px;
            align-items: center;
            flex-wrap: nowrap;
            overflow-x: auto;
            padding: 0;
        }

        .category-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: inherit;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            padding: 12px 8px;
            border-radius: 8px;
            min-width: 110px;
            flex-shrink: 0;
            flex: 1;
            max-width: 130px;
        }

        .category-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .category-card:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }

        .icon-wrapper {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            border-radius: 50%;
            background-color: white;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            border: 3px solid transparent;
        }

        .category-card:hover .icon-wrapper {
            background-color: #f8f8f8;
        }

        .category-card.active .icon-wrapper {
            background-color: white;
            border-color: #6366f1;
        }

        .category-title {
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            line-height: 1.3;
            color: #39364f;
            margin: 0;
        }

        .category-card.active .category-title {
            color: #6366f1;
            font-weight: 700;
        }

        .category-icon {
            width: 48px;
            height: 48px;
            fill: #39364f;
            transition: fill 0.2s ease;
        }

        .category-card.active .category-icon {
            fill: #6366f1;
        }

        /* Header styles for all screen sizes */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: white;
            border-bottom: 1px solid #eee;
        }

        /* Mobile responsive styles */
        @media (max-width: 768px) {
            .header {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 1000;
                background: white;
                border-bottom: 1px solid #eee;
            }

            .nav-container {
                padding: 0.75rem 1rem;
                display: grid;
                grid-template-columns: auto 1fr auto;
                align-items: center;
                gap: 1rem;
            }

            .logo-container {
                width: 32px;
            }

            .search-container {
                position: relative;
                max-width: none;
                margin: 0;
            }

            .search-wrapper {
                display: flex;
                align-items: center;
                padding: 0.5rem 1rem;
                border: 1px solid #ddd;
                border-radius: 20px;
                background: #f8f8f8;
            }

            .search-input {
                border: none;
                background: transparent;
                padding: 0.5rem;
                font-size: 14px;
                width: 100%;
            }

            .search-icon {
                color: #666;
                margin-right: 8px;
            }

            .user-menu {
                position: relative;
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.5rem;
                border-radius: 20px;
                border: 1px solid #ddd;
                cursor: pointer;
            }

            .user-menu img {
                width: 24px;
                height: 24px;
                border-radius: 50%;
            }

            /* Mobile hero styles to match index.html */
            .hero {
                min-height: 500px;
                margin: 60px 0 0 0;
                border-radius: 0;
                overflow: hidden;
            }

            .banner-carousel {
                overflow: hidden;
                border-radius: 0;
            }

            .banner-slide img {
                object-position: center top;
                border-radius: 0;
            }

            .hero-content {
                padding: 20px 16px;
                max-width: 100%;
                text-align: left;
                display: flex;
                flex-direction: column;
                justify-content: flex-end;
                height: 100%;
                position: relative;
                z-index: 3;
            }

            .hero-badge {
                display: none;
            }

            .hero-title-main {
                font-size: 28px;
                line-height: 1.05;
                color: #ffffff;
                text-align: left;
                margin-bottom: 10px;
            }

            .hero-highlight {
                color: #ffffff;
            }

            .hero-subtitle {
                color: rgba(255, 255, 255, 0.95);
                font-size: 14px;
                text-align: left;
                margin-bottom: 16px;
            }

            .hero-actions {
                justify-content: flex-start;
                gap: 12px;
                margin-bottom: 12px;
                flex-wrap: nowrap;
            }

            .hero-btn.primary {
                padding: 10px 18px;
                border-radius: 999px;
                font-size: 14px;
                box-shadow: 0 6px 18px rgba(240, 85, 55, 0.28);
            }

            .hero-btn.secondary {
                background: rgba(255, 255, 255, 0.12);
                color: #fff;
                padding: 10px 18px;
                border-radius: 999px;
                font-size: 14px;
            }

            .hero-stats {
                margin-top: 18px;
                gap: 18px;
            }

            .stat-number {
                font-size: 18px;
                color: #fff;
            }

            .stat-label {
                color: rgba(255, 255, 255, 0.85);
                font-size: 12px;
            }

            .banner-dots {
                display: none;
            }

            .category-section {
                padding: 1rem;
                border-bottom: 1px solid #eee;
                background: white;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .nav-actions {
                gap: 0.75rem;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .nav-action-item .nav-action-text {
                display: none;
            }

            .categories {
                padding: 1.5rem 0;
            }

            /* Hide desktop nav on mobile */
            @media (max-width: 768px) {

                .search-container,
                .nav-actions {
                    display: none;
                }

                .mobile-menu-toggle {
                    display: flex;
                }
            }

            .category-navigation {
                padding: 1rem 0.5rem;
                margin-top: 1rem;
                background: white;
            }

            .category-grid {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 1rem;
                padding: 0 0.5rem;
            }

            .category-card {
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 0.5rem;
            }

            .category-icon-wrapper {
                width: 48px;
                height: 48px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 12px;
                background: #f5f5f5;
            }

            .icon-wrapper {
                width: 52px;
                height: 52px;
                margin-bottom: 0.5rem;
            }

            .category-icon {
                width: 30px;
                height: 30px;
            }

            .category-title {
                font-size: 0.75rem;
                text-align: center;
                line-height: 1.2;
            }
        }

        @media (max-width: 480px) {
            .category-navigation {
                padding: 1rem 0.75rem;
                margin: 0 0.5rem;
            }

            .category-grid {
                gap: 0.5rem;
                justify-content: flex-start;
                padding-right: 0.75rem;
            }

            .category-card {
                min-width: 95px;
                padding: 0.875rem 0.5rem;
            }

            .icon-wrapper {
                width: 48px;
                height: 48px;
            }

            .category-icon {
                width: 28px;
                height: 28px;
            }
        }

        /* Events Section */
        .events-section {
            padding: 4rem 0;
        }

        .location-selector {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
        }

        .location-dropdown {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: white;
        }

        .live-indicator {
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .location-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #ef4444;
            font-size: 12px;
            font-weight: 600;
        }

        .filter-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 8px 16px;
            background: #fff;
            color: #585163;
            text-decoration: none;
            border-radius: 20px;
            border: 1px solid #e8e8e8;
            transition: all 0.2s;
        }

        .filter-tab:hover,
        .filter-tab.active {
            background: #3a3247;
            color: white;
        }

        .section-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 2rem;
            color: #39364f;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        @media (max-width: 1200px) {
            .events-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .events-grid {
                grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
                gap: 16px;
                margin-bottom: 2rem;
            }

            .event-card {
                min-height: 44px;
            }

            .event-image {
                height: 180px;
            }
        }

        @media (max-width: 480px) {
            .events-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .event-image {
                height: 160px;
            }
        }

        .event-card {
            border: 1px solid #e8e8e8;
            border-radius: 12px;
            overflow: hidden;
            background: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .event-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .event-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }

        .event-details {
            padding: 16px;
        }

        .event-date {
            color: #3a3247;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .event-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #39364f;
        }

        .event-location {
            color: #585163;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .event-organizer {
            font-size: 0.75rem;
            color: #666;
            margin-top: 4px;
            font-style: italic;
        }

        .event-price {
            color: #3a3247;
            font-weight: 600;
            font-size: 16px;
        }

        .see-more-btn {
            display: inline-block;
            padding: 12px 24px;
            background: white;
            color: #39364f;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.2s;
        }

        .see-more-btn:hover {
            background: #e8e8e8;
        }

        /* Interest Section */
        .interests-section {
            padding: 4rem 0;
            background: white;
        }

        .interest-tag {
            padding: 8px 16px;
            background: #fff;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.2s;
            border: 1px solid #e8e8e8;
            color: #585163;
        }

        .interest-tag:hover {
            background: white;
        }

        .interest-tag.selected {
            background: #3a3247;
            color: white;
        }

        .interests-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 40px;
        }

        /* Popular Cities Section */
        .popular-cities-section {
            padding: 2rem;
            background-color: #f8f9fa;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 40px;
        }

        .city-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }

        .city-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            text-decoration: none;
            color: #374151;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .city-link:hover {
            background-color: #f9fafb;
            border-color: #d1d5db;
        }

        .city-link.muted {
            color: #9ca3af;
        }

        .arrow {
            width: 16px;
            height: 16px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        @media (min-width: 768px) {
            .city-links {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .city-links {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1280px) {
            .city-links {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 1536px) {
            .city-links {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            :root {
                --text-dark: #f1f5f9;
                --text-light: #cbd5e1;
                --white: #111827;
            }

            body {
                background-color: #0b1020;
                color: var(--text-dark);
            }

            /* footer colors are centralized in css/footer.css; removed inline override */
        }

        /* Cities Section */
        .cities-section {
            padding: 2rem;
        }

        .cities-header {
            margin-bottom: 3rem;
        }

        .title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            text-align: left;
            letter-spacing: -0.025em;
        }

        .destinations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .destination-card {
            position: relative;
            height: 280px;
            border-radius: 20px 20px 0 0;
            overflow: hidden;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
        }

        .destination-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .destination-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg,
                    rgba(0, 0, 0, 0) 0%,
                    rgba(0, 0, 0, 0.1) 50%,
                    rgba(0, 0, 0, 0.7) 100%);
            z-index: 2;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .destination-card:hover::before {
            background: linear-gradient(180deg,
                    rgba(0, 0, 0, 0) 0%,
                    rgba(0, 0, 0, 0.05) 50%,
                    rgba(0, 0, 0, 0.6) 100%);
        }

        .card-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .destination-card:hover .card-image {
            transform: scale(1.05);
        }

        .card-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2rem;
            z-index: 3;
        }

        .city-name {
            font-size: 2.25rem;
            font-weight: 700;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            margin: 0;
            letter-spacing: -0.025em;
            position: relative;
            z-index: 3;
        }

        .card-newyork {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .card-losangeles {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .card-chicago {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .card-washington {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        }

        .city-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .city-link {
            color: #3a3247;
            text-decoration: none;
            padding: 8px 0;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        .city-link:hover {
            border-bottom-color: #3a3247;
        }

        /* Footer styles moved to css/footer.css */

        /* Ensure footer sticks to bottom with no white space */
        .main-content {
            flex: 1;
        }

        .footer {
            margin-top: auto;
        }

        /* Responsive Design for Cities */
        @media (max-width: 768px) {
            .destinations-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .title {
                font-size: 2rem;
                text-align: center;
            }

            .destination-card {
                height: 250px;
            }

            .city-name {
                font-size: 1.875rem;
            }

            .card-content {
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .cities-section {
                padding: 1rem;
            }

            .title {
                font-size: 1.75rem;
            }

            .destination-card {
                height: 220px;
            }

            .city-name {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-direction: row;
                gap: 1rem;
                padding: 1rem;
                justify-content: space-between;
            }

            .search-container {
                display: none;
            }

            .nav-actions {
                display: none;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .mobile-menu.active {
                position: fixed;
                top: 60px;
                left: 0;
                width: 100%;
                height: calc(100vh - 60px);
                background: white;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            body.mobile-menu-open {
                overflow: hidden;
            }

            .nav-action-text {
                font-size: 10px;
            }

            .user-menu {
                order: 4;
                margin-top: 0.5rem;
            }

            .hero-title-main {
                font-size: 2.5rem;
            }

            .hero-highlight {
                display: block;
                margin: 10px 0;
            }


            .events-grid {
                grid-template-columns: 1fr;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .nav-actions {
                flex-direction: column;
                gap: 0.5rem;
                width: 100%;
            }

            .nav-action-item {
                padding: 0.5rem;
                text-align: center;
                width: 100%;
            }

            .user-menu {
                width: 100%;
                justify-content: center;
            }

            .category-container {
                gap: 12px;
                padding: 15px 12px;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .category-item {
                min-width: 70px;
                max-width: 80px;
                gap: 8px;
                flex-shrink: 0;
            }

            .icon-circle {
                width: 50px;
                height: 50px;
            }

            .icon-circle svg {
                width: 20px;
                height: 20px;
            }

            .category-label {
                font-size: 11px;
                line-height: 1.2;
            }
        }

        /* Very Small Mobile Devices (360px and below) */
        @media (max-width: 360px) {
            .category-container {
                gap: 8px;
                padding: 12px 8px;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .category-item {
                min-width: 60px;
                max-width: 70px;
                gap: 6px;
                flex-shrink: 0;
            }

            .icon-circle {
                width: 45px;
                height: 45px;
            }

            .icon-circle svg {
                width: 18px;
                height: 18px;
            }

            .category-label {
                font-size: 10px;
                line-height: 1.2;
                text-align: center;
            }
        }

        /* Responsive Design */
        @media (max-width: 968px) {
            .search-container {
                max-width: 400px;
            }

            .location-wrapper {
                min-width: 140px;
            }

            .nav-actions {
                gap: 1rem;
            }

            .nav-action-text {
                font-size: 11px;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }

            .search-section {
                margin: 0;
                max-width: 100%;
                order: 2;
            }

            .nav-links {
                order: 3;
                justify-content: center;
                gap: 0.8rem;
            }

            .hero-title-main {
                font-size: 1.8rem;
                line-height: 1.1;
            }

            .hero-highlight {
                display: block;
                margin: 8px 0;
                font-size: 2rem;
            }

            .hero-btn {
                padding: 0.875rem 1.5rem;
                font-size: 0.95rem;
            }


            .events-grid {
                grid-template-columns: 1fr;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .nav-links {
                flex-direction: column;
                gap: 0.5rem;
                width: 100%;
            }

            .nav-links a {
                padding: 0.5rem;
                text-align: center;
            }
        }

        /* Integrated Navigation Styles */
        .integrated-nav-container {
            background: transparent;
            /* Remove border-radius: 12px; */
            /* Remove box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1); */
            padding: 8px 16px;
            display: flex;
            gap: 24px;
            align-items: center;
            margin-right: 1rem;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 8px 12px;
            border-radius: 8px;
            color: #6b7280;
        }

        .nav-item:hover {
            background-color: white;
            transform: translateY(-1px);
        }

        .nav-item.active {
            color: #3a3247;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .nav-text {
            font-size: 12px;
            font-weight: 500;
            white-space: nowrap;
        }

        .nav-item.active .nav-text {
            color: #3a3247;
        }

        /* Mobile responsive adjustments */
        @media (max-width: 768px) {
            .integrated-nav-container {
                display: none;
                /* Hide on mobile, show in mobile menu instead */
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: white;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 40px;
        }

        .city-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }

        .city-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            text-decoration: none;
            color: #374151;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .city-link:hover {
            background-color: white;
            border-color: #d1d5db;
        }

        .city-link.muted {
            color: #9ca3af;
        }

        .arrow {
            width: 16px;
            height: 16px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        @media (min-width: 768px) {
            .city-links {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .city-links {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1280px) {
            .city-links {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 1536px) {
            .city-links {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        /* Mobile Navigation Updates */
        .mobile-nav-container {
            display: none;
            /* Hidden by default */
        }

        @media (max-width: 768px) {
            .nav-container {
                display: none !important;
                /* Hide desktop nav completely */
            }

            .mobile-nav-container {
                display: grid !important;
                /* 3 columns: logo | search | profile */
                grid-template-columns: auto 1fr auto;
                align-items: center;
                padding: 12px 16px;
                gap: 12px;
                background-color: white;
                border-bottom: 1px solid #e0e0e0;
            }

            .mobile-nav-container .logo img {
                width: 32px;
                height: 32px;
                border-radius: 6px;
            }

            .mobile-nav-container .search-container {
                justify-self: center;
                width: 100%;
                max-width: 420px;
                margin: 0;
                position: relative;
            }

            .mobile-nav-container .search-bar {
                width: 100%;
                padding: 10px 16px 10px 40px;
                border: 1px solid #d0d0d0;
                border-radius: 25px;
                font-size: 14px;
                outline: none;
                background-color: #f8f8f8;
            }

            .mobile-nav-container .search-bar:focus {
                border-color: #e53e3e;
                background-color: white;
            }

            .mobile-nav-container .search-icon {
                position: absolute;
                left: 14px;
                top: 50%;
                transform: translateY(-50%);
                font-size: 16px;
            }

            .mobile-nav-container .search-button {
                position: absolute;
                right: 4px;
                top: 50%;
                transform: translateY(-50%);
                background-color: #e53e3e;
                border: none;
                border-radius: 50%;
                width: 32px;
                height: 32px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                cursor: pointer;
                font-size: 14px;
            }

            .mobile-nav-container .user-profile {
                width: 32px;
                height: 32px;
                border-radius: 50%;
                background-color: #f0f0f0;
                border: 1px solid #d0d0d0;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                position: relative;
                font-size: 18px;
                justify-self: end;
            }

            .mobile-nav-container .user-profile:hover {
                background-color: #e8e8e8;
            }

            .mobile-nav-container .dropdown {
                position: fixed !important;
                top: 65px !important;
                left: 5px !important;
                right: 5px !important;
                width: calc(100vw - 10px) !important;
                max-width: calc(100vw - 10px) !important;
                max-height: calc(100vh - 80px) !important;
                background-color: white;
                border: 1px solid #e0e0e0;
                border-radius: 12px !important;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important;
                z-index: 1500 !important;
                display: none;
                margin: 0 !important;
                overflow-y: auto;
            }

            .mobile-nav-container .dropdown.show {
                display: block;
            }

            .mobile-nav-container .dropdown-item {
                padding: 16px 20px !important;
                cursor: pointer;
                border-bottom: 1px solid #f0f0f0;
                font-size: 15px !important;
                color: #333;
                display: flex;
                align-items: center;
                line-height: 1.5 !important;
                min-height: 50px !important;
                text-decoration: none !important;
            }
            
            .mobile-nav-container .dropdown-item:visited {
                color: #333 !important;
            }

            .mobile-nav-container .dropdown-item:hover {
                background-color: #f8f8f8;
            }

            .mobile-nav-container .dropdown-item:last-child {
                border-bottom: none;
            }

            .mobile-nav-container .dropdown-item.email {
                color: #666;
                font-size: 13px;
                cursor: default;
            }

            .mobile-nav-container .dropdown-item.email:hover {
                background-color: white;
            }

            .mobile-nav-container .dropdown-divider {
                height: 1px;
                background-color: #e0e0e0;
                margin: 8px 0;
            }
        }

        @media (max-width: 768px) {
            body {
                padding-top: 0px;
                /* Remove body padding on mobile, use hero margin instead */
            }
        }

        .mobile-logo img {
            width: 32px;
            height: 32px;
            object-fit: contain;
        }

        .mobile-logo {
            flex-shrink: 0;
        }

        .mobile-search-wrapper {
            flex: 1;
            position: relative;
            max-width: none;
        }

        .mobile-search-wrapper input {
            width: 100%;
            padding: 10px 12px 10px 40px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background: #f8f8f8;
            font-size: 14px;
            outline: none;
        }

        .mobile-search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            color: #666;
            pointer-events: none;
        }

        .mobile-user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #3a3247;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            font-size: 16px;
        }

        .mobile-user-button {
            background: none;
            border: none;
            padding: 0;
            cursor: pointer;
        }


        /* Hide old mobile menu elements */
        .mobile-menu-toggle {
            display: none !important;
        }

        .mobile-menu {
            display: none !important;
        }

        @media (max-width: 768px) {
            .user-dropdown {
                position: fixed !important;
                top: 70px !important;
                left: 5px !important;
                right: 5px !important;
                width: calc(100vw - 10px) !important;
                max-width: calc(100vw - 10px) !important;
                max-height: calc(100vh - 85px) !important;
                overflow-y: auto;
                z-index: 1500 !important;
                font-size: 14px;
                border-radius: 12px !important;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important;
                margin: 0 !important;
                transform: none !important;
            }
            
            .user-dropdown.show {
                display: block !important;
                opacity: 1 !important;
                visibility: visible !important;
                transform: none !important;
                pointer-events: all !important;
            }
            
            .user-dropdown a {
                padding: 14px 20px !important;
                font-size: 15px !important;
                line-height: 1.5 !important;
                border-bottom: 1px solid #f0f0f0 !important;
            }
            
            .user-dropdown .menu-group {
                padding: 4px 0 !important;
            }
            
            .user-dropdown a:first-child {
                border-radius: 12px 12px 0 0 !important;
            }
            
            .user-dropdown a:last-child {
                border-radius: 0 0 12px 12px !important;
                border-bottom: none !important;
            }
        }

        @media (max-width: 480px) {
            .user-dropdown {
                position: fixed !important;
                top: 60px !important;
                left: 3px !important;
                right: 3px !important;
                width: calc(100vw - 6px) !important;
                max-width: calc(100vw - 6px) !important;
                max-height: calc(100vh - 70px) !important;
                overflow-y: auto;
                font-size: 13px;
                z-index: 1500 !important;
            }
            
            .user-dropdown a {
                padding: 12px 16px !important;
                font-size: 14px !important;
                line-height: 1.4 !important;
            }
            
            .mobile-nav-container .dropdown {
                top: 60px !important;
                left: 3px !important;
                right: 3px !important;
                width: calc(100vw - 6px) !important;
                max-width: calc(100vw - 6px) !important;
                max-height: calc(100vh - 70px) !important;
            }
            
            .mobile-nav-container .dropdown-item {
                padding: 14px 18px !important;
                font-size: 14px !important;
                min-height: 48px !important;
            }
        }
    </style>

    <script>
        // Popular Cities Search Function
        function searchByCity(cityName) {
            console.log('Searching for things to do in:', cityName);
            // Add your search functionality here
            alert('Searching for things to do in ' + cityName);
        }

        // Simple interactivity for the demo
        document.addEventListener('DOMContentLoaded', function () {
            // Filter tab functionality
            const filterTabs = document.querySelectorAll('.filter-tab');
            filterTabs.forEach(tab => {
                tab.addEventListener('click', function (e) {
                    e.preventDefault();

                    // Remove active class from all tabs
                    filterTabs.forEach(t => t.classList.remove('active'));

                    // Add active class to clicked tab
                    this.classList.add('active');
                });
            });

            // Interest tag selection
            const interestTags = document.querySelectorAll('.interest-tag');
            interestTags.forEach(tag => {
                tag.addEventListener('click', function () {
                    this.classList.toggle('selected');
                });
            });

            // Search functionality with async loading support
            initializeSearch();

            // Event card hover effects
            const eventCards = document.querySelectorAll('.event-card');
            eventCards.forEach(card => {
                card.addEventListener('click', function () {
                    const title = this.querySelector('.event-title').textContent;
                    alert(`Viewing event: ${title}`);
                });
            });

            // Category card clicks with safety checks
            const categoryCards = document.querySelectorAll('.category-card');
            console.log('Found category cards:', categoryCards.length);

            if (categoryCards && categoryCards.length > 0) {
                categoryCards.forEach(card => {
                    if (card) {
                        card.addEventListener('click', function (e) {
                            try {
                                // Get the category name first
                                const category = this.dataset ? this.dataset.category : null;
                                console.log('Selected category:', category);

                                // Skip categories with dedicated onclick handlers
                                if (category === 'food-drink') {
                                    console.log('Food & Drink category - using dedicated handler');
                                    return; // Let the onclick="navigateToFoodEvents(event)" handle it
                                }
                                
                                if (category === 'arts') {
                                    console.log('Performing & Visual Arts category - using dedicated handler');
                                    return; // Let the onclick="navigateToArtsPage()" handle it
                                }

                                e.preventDefault(); // Prevent default link navigation
                                console.log('Category card clicked:', this);

                                // Remove active class from all cards
                                categoryCards.forEach(cat => {
                                    if (cat && cat.classList) {
                                        cat.classList.remove('active');
                                    }
                                });

                                // Add active class to clicked card
                                if (this.classList) {
                                    this.classList.add('active');
                                }

                                // Navigate to specific pages based on category
                                if (category === 'dating') {
                                    window.location.href = 'DATING.html';
                                } else if (category === 'hobbies') {
                                    window.location.href = 'Hobbies events_logged_in.html';
                                } else if (category === 'holidays') {
                                    window.location.href = 'Holiday events_logged_in.html';
                                } else if (category === 'music') {
                                    window.location.href = 'Music Events_logged_in.html';
                                } else if (category === 'business') {
                                    console.log('Redirecting to business events...');
                                    window.location.href = 'business_events.html';
                                } else if (category === 'nightlife') {
                                    window.location.href = 'NIGHTLIFE.html?from=logged_in';
                                } else {
                                    // For categories without specific pages, show a message
                                    const categoryTitle = this.querySelector('.category-title');
                                    const categoryName = categoryTitle ? categoryTitle.textContent : 'Unknown';
                                    alert(`${categoryName} events coming soon!`);
                                }
                            } catch (error) {
                                console.error('Error in category click handler:', error);
                            }
                        });

                        // Handle keyboard navigation
                        card.addEventListener('keydown', (e) => {
                            if (e.key === 'Enter' || e.key === ' ') {
                                e.preventDefault();
                                card.click();
                            }
                        });
                    }
                });
            } else {
                console.warn('No category cards found');
            }

            // Banner Carousel Functionality
            let slideIndex = 1;
            let slideInterval;

            function showSlides(n) {
                let slides = document.getElementsByClassName("banner-slide");
                let dots = document.getElementsByClassName("dot");

                if (n > slides.length) { slideIndex = 1; }
                if (n < 1) { slideIndex = slides.length; }

                for (let i = 0; i < slides.length; i++) {
                    slides[i].classList.remove("active");
                }

                for (let i = 0; i < dots.length; i++) {
                    dots[i].classList.remove("active");
                }

                slides[slideIndex - 1].classList.add("active");
                dots[slideIndex - 1].classList.add("active");
            }

            window.currentSlide = function (n) {
                clearInterval(slideInterval);
                showSlides(slideIndex = n);
                startAutoSlide();
            }

            function nextSlide() {
                showSlides(slideIndex += 1);
            }

            function startAutoSlide() {
                slideInterval = setInterval(nextSlide, 5000);
            }

            // Initialize carousel
            showSlides(slideIndex);
            startAutoSlide();

            // User menu and logout functionality
            console.log('Setting up user menu event listeners...');

            // Desktop user menu toggle
            const userMenuButton = document.getElementById('userMenuButton');
            const userDropdown = document.getElementById('userDropdown');

            if (userMenuButton && userDropdown) {
                userMenuButton.addEventListener('click', function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Desktop user menu clicked');
                    
                    // Toggle the dropdown
                    if (userDropdown.classList.contains('show')) {
                        userDropdown.classList.remove('show');
                        console.log('Dropdown closed');
                    } else {
                        userDropdown.classList.add('show');
                        console.log('Dropdown opened');
                    }
                });
                console.log('Desktop user menu click listener added successfully');
            } else {
                console.warn('User menu button or dropdown not found:', { 
                    userMenuButton: !!userMenuButton, 
                    userDropdown: !!userDropdown 
                });
            }

            // Mobile user menu toggle
            const mobileUserButton = document.getElementById('mobileUserButton');
            const mobileUserAvatar = document.getElementById('mobileUserAvatar');

            if (mobileUserButton && userDropdown) {
                mobileUserButton.addEventListener('click', function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Mobile user menu clicked');

                    const isShown = userDropdown.classList.contains('show');
                    if (isShown) {
                        userDropdown.classList.remove('show');
                        console.log('Mobile dropdown closed');
                    } else {
                        userDropdown.classList.add('show');
                        console.log('Mobile dropdown opened');
                    }
                });

                // Close dropdown when clicking outside
                document.addEventListener('click', function (e) {
                    if (!mobileUserButton.contains(e.target) && !userDropdown.contains(e.target)) {
                        userDropdown.classList.remove('show');
                        console.log('Dropdown closed by outside click');
                    }
                });
                console.log('Mobile user menu click listener added successfully');
            } else {
                console.warn('Mobile user button or dropdown not found:', { 
                    mobileUserButton: !!mobileUserButton, 
                    userDropdown: !!userDropdown 
                });
            }

            // Sync user data between desktop and mobile
            const desktopAvatar = document.getElementById('userAvatar');
            if (desktopAvatar && mobileUserAvatar) {
                mobileUserAvatar.textContent = desktopAvatar.textContent;
            }

            // Logout link
            const logoutLink = document.getElementById('logoutLink');
            if (logoutLink) {
                logoutLink.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Logout link clicked');
                    logout();
                });
                console.log('Logout link listener added');
            } else {
                console.warn('Logout link not found');
            }

            // Check for OAuth callback first, then load user data
            handleOAuthCallback();
        });

        // Handle OAuth callback if present
        function handleOAuthCallback() {
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get('token');
            const error = urlParams.get('error');

            if (error) {
                console.error('OAuth error:', error);
                alert('Authentication failed. Please try again.');
                window.location.href = 'login.html';
                return;
            }

            if (token) {
                console.log('OAuth token received, fetching user profile...');
                localStorage.setItem('authToken', token);

                // Fetch user profile after OAuth
                if (window.mongoAuthAPI) {
                    window.mongoAuthAPI.getProfile().then(data => {
                        if (data.success) {
                            console.log('OAuth profile loaded:', data.user);
                            localStorage.setItem('currentUser', JSON.stringify(data.user));
                            // Clean up URL and reload user data
                            const url = new URL(window.location);
                            url.searchParams.delete('token');
                            window.history.replaceState({}, document.title, url.toString());
                            loadUserData();
                        }
                    }).catch(error => {
                        console.error('Failed to load OAuth profile:', error);
                        // Still try to load whatever user data we have
                        loadUserData();
                    });
                } else {
                    console.log('No auth API available, cleaning URL...');
                    // Clean up URL
                    const url = new URL(window.location);
                    url.searchParams.delete('token');
                    window.history.replaceState({}, document.title, url.toString());
                    loadUserData();
                }
                return;
            }

            // No OAuth token, proceed with normal user data loading
            loadUserData();
        }

        // Load user data from localStorage
        function loadUserData() {
            // Check if we're in OAuth callback flow
            const urlParams = new URLSearchParams(window.location.search);
            const hasToken = urlParams.get('token');

            if (hasToken) {
                // OAuth callback - give it a moment to process
                console.log('OAuth callback detected, waiting for token processing...');
                setTimeout(loadUserData, 500);
                return;
            }

            const userStr = localStorage.getItem('currentUser');
            const token = localStorage.getItem('authToken');
            
            console.log('Loading user data:', { 
                hasToken: !!token, 
                hasUserStr: !!userStr, 
                userStr: userStr 
            });

            if (!token || !userStr) {
                // Create demo user for testing if no real user data
                console.log('No authentication found, creating demo user for logged_in_Version.html...');
                const demoUser = {
                    name: 'Demo User',
                    email: 'demo@example.com',
                    firstName: 'Demo',
                    lastName: 'User',
                    id: 'demo-123'
                };
                localStorage.setItem('currentUser', JSON.stringify(demoUser));
                localStorage.setItem('authToken', 'demo-token-123');
                console.log('Demo user created, reloading user data...');
                loadUserData();
                return;
            }

            try {
                const user = JSON.parse(userStr);
                const userEmailEl = document.getElementById('userEmail');
                const userAvatarEl = document.getElementById('userAvatar');
                const mobileUserAvatarEl = document.getElementById('mobileUserAvatar');

                if (userEmailEl) {
                    // Show name if available, otherwise email
                    const displayText = user.name || user.email || 'User';
                    userEmailEl.textContent = displayText;
                    console.log('Updated user email display to:', displayText);
                }

                if (userAvatarEl) {
                    // Set avatar to first letter of name or email
                    const avatarText = (user.name || user.email || 'U').charAt(0).toUpperCase();
                    userAvatarEl.textContent = avatarText;
                    console.log('Updated user avatar to:', avatarText);

                    // Sync with mobile avatar
                    if (mobileUserAvatarEl) {
                        mobileUserAvatarEl.textContent = avatarText;
                    }
                }

                // Update dropdown email
                const dropdownUserEmail = document.getElementById('dropdownUserEmail');
                if (dropdownUserEmail) {
                    dropdownUserEmail.textContent = user.email || user.name || 'user@example.com';
                    console.log('Updated dropdown email to:', user.email || user.name || 'user@example.com');
                }

                console.log('User data successfully loaded and UI updated');

                // mobile-specific handlers removed to restore previous behavior

                console.log('User loaded:', user.name || user.email);
            } catch (error) {
                console.error('Error loading user data:', error);
                // Clear invalid data and redirect
                localStorage.removeItem('authToken');
                localStorage.removeItem('currentUser');
                window.location.href = 'index.html';
            }
        }

        // Toggle user dropdown menu
        function toggleUserMenu(event) {
            if (event) event.stopPropagation();
            const dropdown = document.getElementById('userDropdown');
            
            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
            } else {
                dropdown.classList.add('show');
            }
        }

        // Logout function with MongoDB integration
        async function logout() {
            console.log('Logout function called');

            try {
                console.log('Checking for auth APIs...');
                console.log('window.mongoAuthAPI:', typeof window.mongoAuthAPI);
                console.log('window.authAPI:', typeof window.authAPI);

                // Call the MongoDB auth API logout endpoint
                if (window.mongoAuthAPI || window.authAPI) {
                    const authAPI = window.mongoAuthAPI || window.authAPI;
                    console.log('Using auth API for logout');
                    await authAPI.logout();
                } else {
                    console.log('No auth API available, using fallback');
                    // Fallback to local storage cleanup
                    localStorage.removeItem('authToken');
                    localStorage.removeItem('currentUser');
                }

                console.log('Logout successful, redirecting...');
                alert('Logged out successfully!');
                window.location.href = 'index.html';
            } catch (error) {
                console.error('Logout error:', error);
                // Still clear local storage and redirect on error
                localStorage.removeItem('authToken');
                localStorage.removeItem('currentUser');
                alert('Logout completed with error: ' + error.message);
                window.location.href = 'index.html';
            }
        }

        // Make logout function globally available
        window.logout = logout;

        // Search initialization with retry mechanism for async loading
        function initializeSearch() {
            let retryCount = 0;
            const maxRetries = 10;
            const retryDelay = 500; // 500ms

            function tryInitialize() {
                const searchBtn = document.querySelector('.search-btn');
                const searchInput = document.querySelector('.search-input');

                if (searchBtn && searchInput) {
                    // Elements found, set up event listeners
                    searchBtn.addEventListener('click', function () {
                        const input = document.querySelector('.search-input');
                        if (input) {
                            const query = input.value.trim();
                            if (query) {
                                alert(`Searching for: ${query}`);
                            }
                        }
                    });

                    searchInput.addEventListener('keypress', function (e) {
                        if (e.key === 'Enter') {
                            const query = this.value.trim();
                            if (query) {
                                alert(`Searching for: ${query}`);
                            }
                        }
                    });

                    console.log('Search components initialized successfully');
                    return true;
                }

                // Elements not found yet, retry if we haven't exceeded max retries
                if (retryCount < maxRetries) {
                    retryCount++;
                    setTimeout(tryInitialize, retryDelay);
                } else {
                    console.log('Search components not loaded after retries - this is normal if search component is not used');
                }
                return false;
            }

            tryInitialize();
        }

        // Consolidated event listeners - moved to main DOMContentLoaded listener above
        // This prevents duplicate listeners and conflicts

        // Close dropdown when clicking outside
        document.addEventListener('click', function (event) {
            const userMenu = event.target.closest('.user-menu');
            const dropdown = document.getElementById('userDropdown');

            if (!userMenu && dropdown) {
                dropdown.classList.remove('show');
            }
        });

        // Force user data refresh function
        function forceRefreshUserData() {
            console.log('Force refreshing user data...');
            const userStr = localStorage.getItem('currentUser');
            if (userStr) {
                try {
                    const user = JSON.parse(userStr);
                    const userEmailEl = document.getElementById('userEmail');
                    const userAvatarEl = document.getElementById('userAvatar');
                    const dropdownUserEmail = document.getElementById('dropdownUserEmail');
                    
                    if (userEmailEl) {
                        const displayText = user.name || user.email || 'User';
                        userEmailEl.textContent = displayText;
                    }
                    
                    if (userAvatarEl) {
                        const avatarText = (user.name || user.email || 'U').charAt(0).toUpperCase();
                        userAvatarEl.textContent = avatarText;
                    }
                    
                    if (dropdownUserEmail) {
                        dropdownUserEmail.textContent = user.email || user.name || 'user@example.com';
                    }
                    
                    console.log('User data force refreshed successfully');
                } catch (error) {
                    console.error('Error force refreshing user data:', error);
                }
            }
        }

        // Handle OAuth and load user data immediately when script runs
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function () {
                handleOAuthCallback();
                // Add a small delay to ensure DOM is fully ready
                setTimeout(forceRefreshUserData, 100);
            });
        } else {
            handleOAuthCallback();
            setTimeout(forceRefreshUserData, 100);
        }
        // Add integrated navigation functionality
        function initializeIntegratedNav() {
            const navItems = document.querySelectorAll('.nav-item');

            navItems.forEach(item => {
                item.addEventListener('click', function () {
                    // Remove active class from all items
                    navItems.forEach(nav => nav.classList.remove('active'));

                    // Add active class to clicked item
                    this.classList.add('active');

                    // Get the tab name
                    const tabName = this.getAttribute('data-tab');

                    // Handle navigation based on tab
                    switch (tabName) {
                        case 'create':
                            // Add your create event logic here
                            console.log('Navigate to create event');
                            break;
                        case 'likes':
                            // Add your likes logic here
                            console.log('Navigate to likes');
                            break;
                        case 'tickets':
                            // Add your tickets logic here
                            console.log('Navigate to tickets');
                            break;
                    }

                    // Add click animation
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });
        }

        // Call this function in your existing DOMContentLoaded listener
        // Find this line: document.addEventListener('DOMContentLoaded', function () {
        // And add this call inside it:
        initializeIntegratedNav();
    </script>
    <!-- Search Component Styles and Scripts -->
    <link rel="stylesheet" href="css/search-component.css">
    <script>
        // Enhanced geolocation error handling
        window.addEventListener('error', function (event) {
            if (event.message && (event.message.includes('Geolocation') || event.message.includes('geolocation'))) {
                console.log('Geolocation not available - using default location (this is normal)');
                event.preventDefault();
                return true;
            }
        });

        // Catch promise rejections from geolocation
        window.addEventListener('unhandledrejection', function (event) {
            if (event.reason && event.reason.message &&
                (event.reason.message.includes('geolocation') || event.reason.message.includes('Geolocation'))) {
                console.log('Geolocation promise rejected - using fallback location (this is normal)');
                event.preventDefault();
            }
        });
    </script>
    <script src="js/search-component.js"></script>
</head>

<body>

    <!-- Header -->
    <div class="header">
        <!-- Mobile Navigation Container (shown on mobile only) -->
        <div class="mobile-nav-container">
            <a href="logged_in_Version.html" class="logo" aria-label="Crowd - Home">
                <img src="logo.jpg" alt="Crowd Logo" style="width: 32px; height: 32px; object-fit: contain;">
            </a>

            <div class="search-container">
                <div class="search-icon">🔍</div>
                <input type="text" class="search-bar" placeholder="Search events">
                <button class="search-button">🔍</button>
            </div>

            <div class="user-profile" id="userProfile">
                👤
                <div class="dropdown" id="dropdown">
                    <a href="logged_in_Version.html" class="dropdown-item">Browse events</a>
                    <a href="organizer-dashboard.html" class="dropdown-item">Manage my events</a>
                    <a href="tickets-profile.html" class="dropdown-item">Tickets</a>
                    <a href="likes.html" class="dropdown-item">Liked</a>
                    <a href="tickets-profile.html" class="dropdown-item">Following</a>
                    <a href="intrest.html" class="dropdown-item">Interests</a>
                    <a href="settings-new.html" class="dropdown-item">Account settings</a>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item email">musa.128.com@gmail.com</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" onclick="logout()">Log out</div>
                </div>
            </div>
        </div>

        <!-- Desktop Navigation Container (shown on desktop only) -->
        <nav class="nav-container">
            <a href="index.html" class="logo">
                <img src="logo.jpg" alt="Crowd Logo" class="logo-img"
                    onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div style="display: none; align-items: center; gap: 0.25rem;">
                    <span class="logo-icon">🎟️</span>
                    <span class="logo-text">crowd</span>
                </div>
            </a>

            <div class="search-section" data-search-component>
                <div class="search-container">
                    <div class="search-section">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10 14c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm3.5.9c-1 .7-2.2 1.1-3.5 1.1-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6c0 1.3-.4 2.5-1.1 3.4l5.1 5.1-1.5 1.5-5-5.1z"
                                fill="currentColor" />
                        </svg>
                        <input type="text" class="search-input" placeholder="Search events" id="searchInput"
                            aria-label="Search events">
                    </div>
                    <div class="divider" aria-hidden="true"></div>
                    <div class="location-section">
                        <svg class="location-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M11.6 11.6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm0-7.6C8.5 4 6 6.5 6 9.6 6 13.8 11.6 20 11.6 20s5.6-6.2 5.6-10.4c0-3.1-2.5-5.6-5.6-5.6z"
                                fill="currentColor" />
                        </svg>
                        <input type="text" class="location-input" placeholder="Choose a location" id="locationInput"
                            aria-label="Choose a location">
                    </div>
                    <button class="search-button" type="button" onclick="performSearch()" aria-label="Search">
                        <svg class="search-button-icon" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10 14c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm3.5.9c-1 .7-2.2 1.1-3.5 1.1-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6c0 1.3-.4 2.5-1.1 3.4l5.1 5.1-1.5 1.5-5-5.1z"
                                fill="currentColor" />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="nav-actions">
                <!-- New integrated navigation bar -->
                <div class="integrated-nav-container">
                    <div class="nav-item" data-tab="create" onclick="window.location.href='event-builder.html'"
                        style="cursor: pointer;">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        <span class="nav-text">Create an event</span>
                    </div>

                    <div class="nav-item" data-tab="likes" onclick="window.location.href='likes.html'"
                        style="cursor: pointer;">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path
                                d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                            </path>
                        </svg>
                        <span class="nav-text">Likes</span>
                    </div>

                    <div class="nav-item" data-tab="tickets" onclick="window.location.href='tickets-profile.html'"
                        style="cursor: pointer;">
                        <svg class="nav-icon" viewBox="0 0 24 24">
                            <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                        </svg>
                        <span class="nav-text">Tickets</span>
                    </div>
                </div>

                <!-- Keep existing user menu -->
                <div class="user-menu" id="userMenuButton">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div>
                        <div class="user-email" id="userEmail">Loading...</div>
                    </div>
                    <span class="dropdown-arrow">▾</span>
                    
                    <!-- User Dropdown Menu - moved inside user-menu container -->
                    <div class="user-dropdown" id="userDropdown" role="menu" aria-hidden="true">
                    <div class="menu-group">
                        <a href="Find events.html" role="menuitem">Find events</a>
                        <a href="logged_in_Version.html" role="menuitem">Browse events</a>
                        <a href="organizer-dashboard.html" role="menuitem">Manage my events</a>
                        <a href="tickets-profile.html" role="menuitem">Tickets</a>
                        <a href="likes.html" role="menuitem">Liked</a>
                        <a href="tickets-profile.html" role="menuitem">Following</a>
                        <a href="intrest.html" role="menuitem">Interests</a>
                    </div>
                    <div class="divider" aria-hidden="true"></div>
                    <div class="menu-group">
                        <a href="settings-new.html" role="menuitem">Account settings</a>
                        <!-- Show user's email as a non-interactive item like the screenshot -->
                        <div style="padding:10px 16px;color:#6b6b6b;font-size:14px;">
                            <span id="dropdownUserEmail">musa.128.com@gmail.com</span>
                        </div>
                        <a href="#" id="logoutLink" role="menuitem">Log out</a>
                    </div>
                    </div> <!-- Close user-dropdown -->
                </div> <!-- Close user-menu -->
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>

        <!-- Mobile Menu (logged-in style) -->
        <div class="mobile-menu" id="mobileMenu" role="navigation" aria-label="Mobile navigation">
            <!-- Top: search + user info like logged-in screenshot -->
            <div
                style="display:flex;align-items:center;justify-content:space-between;padding:0.75rem 1rem;border-bottom:1px solid #e8e8e8;">
                <div style="display:flex;align-items:center;gap:0.5rem;flex:1;">
                    <span style="font-size:1.1rem;opacity:0.9;padding-right:0.25rem;">🔍</span>
                    <input type="text" class="search-input" placeholder="Search events" aria-label="Search events"
                        style="flex:1;padding:0.5rem 0.6rem;border:1px solid #eee;border-radius:20px;background:#fff;">
                </div>

                <button id="mobileUserButton" aria-expanded="false" aria-controls="userDropdown"
                    style="margin-left:0.75rem;background:none;border:0;display:flex;align-items:center;gap:0.5rem;position:relative;">
                    <div id="mobileUserAvatar"
                        style="width:36px;height:36px;border-radius:50%;background:#dfe7ee;display:flex;align-items:center;justify-content:center;font-weight:600;color:#333;">
                        U</div>
                </button>
            </div>

            <!-- Primary mobile navigation actions (kept below user menu) -->
            <div style="padding: 0.5rem 0;">

                <a href="event-builder.html" class="nav-action-item"
                    style="flex-direction: row; padding: 1rem; border-bottom: 1px solid #f0f0f0; display:flex;align-items:center;">
                    <span class="nav-action-icon" style="margin-right: 1rem;">➕</span>
                    <span class="nav-action-text" style="font-size: 16px;">Create an event</span>
                </a>

                <a href="likes.html" class="nav-action-item"
                    style="flex-direction: row; padding: 1rem; border-bottom: 1px solid #f0f0f0; display:flex;align-items:center;">
                    <span class="nav-action-icon" style="margin-right: 1rem;">♡</span>
                    <span class="nav-action-text" style="font-size: 16px;">Likes</span>
                </a>

                <a href="tickets-profile.html" class="nav-action-item"
                    style="flex-direction: row; padding: 1rem; border-bottom: 1px solid #f0f0f0; display:flex;align-items:center;">
                    <span class="nav-action-icon" style="margin-right: 1rem;">🎫</span>
                    <span class="nav-action-text" style="font-size: 16px;">Tickets</span>
                </a>

                <a href="dashboard-home.html" class="nav-action-item"
                    style="flex-direction: row; padding: 1rem; border-bottom: 1px solid #f0f0f0; display:flex;align-items:center;">
                    <span class="nav-action-icon" style="margin-right: 1rem;">📊</span>
                    <span class="nav-action-text" style="font-size: 16px;">Organizer Dashboard</span>
                </a>
            </div>
        </div>

        <script>
            // Mobile menu toggle
            (function () {
                const mobileMenu = document.getElementById('mobileMenu');
                const toggle = document.querySelector('.mobile-menu-toggle');
                const mobileUserButton = document.getElementById('mobileUserButton');
                const mobileUserMenu = document.getElementById('mobileUserMenu');

                if (toggle) {
                    toggle.addEventListener('click', function () {
                        const expanded = this.getAttribute('aria-expanded') === 'true';
                        this.setAttribute('aria-expanded', String(!expanded));

                        // Toggle class names used across the project
                        if (mobileMenu) mobileMenu.classList.toggle('active');
                        document.body.classList.toggle('mobile-menu-open');
                        toggle.classList.toggle('active');
                    });
                }

                // Toggle the floating user dropdown (re-uses desktop dropdown) when avatar on mobile is tapped
                const userDropdown = document.getElementById('userDropdown');
                if (mobileUserButton && userDropdown) {
                    mobileUserButton.addEventListener('click', function (e) {
                        e.preventDefault();
                        const isShown = userDropdown.classList.contains('show');
                        if (isShown) {
                            userDropdown.classList.remove('show');
                            this.setAttribute('aria-expanded', 'false');
                        } else {
                            userDropdown.classList.add('show');
                            this.setAttribute('aria-expanded', 'true');
                        }
                    });

                    // Close dropdown on outside click (mobile friendly)
                    document.addEventListener('click', function (ev) {
                        const target = ev.target;
                        const userMenuEl = target.closest('.user-menu');
                        const insideDropdown = target.closest('.user-dropdown');
                        if (!userMenuEl && !insideDropdown && userDropdown.classList.contains('show')) {
                            userDropdown.classList.remove('show');
                            mobileUserButton.setAttribute('aria-expanded', 'false');
                        }
                    });
                }

                // Populate mobile email/avatar from the desktop header if available
                const desktopEmail = document.getElementById('userEmail');
                const mobileEmail = document.getElementById('mobileUserEmail');
                const dropdownUserEmail = document.getElementById('dropdownUserEmail');
                const desktopAvatar = document.getElementById('userAvatar');
                const mobileAvatar = document.getElementById('mobileUserAvatar');
                const mobileAvatarSmall = document.getElementById('mobileUserAvatar');

                if (desktopEmail && mobileEmail) {
                    mobileEmail.textContent = desktopEmail.textContent || 'you@example.com';
                }
                if (desktopEmail && dropdownUserEmail) {
                    dropdownUserEmail.textContent = desktopEmail.textContent || 'you@example.com';
                }
                if (desktopAvatar && mobileAvatarSmall) {
                    mobileAvatarSmall.textContent = desktopAvatar.textContent || 'U';
                }
                // If needed, wire other mobile items to desktop actions here
            })();
        </script>

        <script>
            // Mobile Navigation - Dropdown functionality
            document.addEventListener('DOMContentLoaded', function () {
                const userProfile = document.getElementById('userProfile');
                const dropdown = document.getElementById('dropdown');

                if (userProfile && dropdown) {
                    userProfile.addEventListener('click', function (e) {
                        e.stopPropagation();
                        dropdown.classList.toggle('show');
                    });

                    // Close dropdown when clicking outside
                    document.addEventListener('click', function (e) {
                        if (!userProfile.contains(e.target)) {
                            dropdown.classList.remove('show');
                        }
                    });

                    // Handle dropdown item clicks
                    const dropdownItems = document.querySelectorAll('.mobile-nav-container .dropdown-item:not(.email)');
                    dropdownItems.forEach(item => {
                        item.addEventListener('click', function () {
                            console.log('Mobile dropdown clicked:', this.textContent);
                            dropdown.classList.remove('show');

                            // Add navigation logic for mobile header dropdown
                            const itemText = this.textContent.trim();
                            switch (itemText) {
                                case 'Browse events':
                                    window.location.href = 'logged_in_Version.html';
                                    break;
                                case 'Manage my events':
                                    window.location.href = 'organizer-dashboard.html';
                                    break;
                                case 'Tickets':
                                    window.location.href = 'tickets-profile.html';
                                    break;
                                case 'Liked':
                                    window.location.href = 'likes.html';
                                    break;
                                case 'Following':
                                    window.location.href = 'tickets-profile.html';
                                    break;
                                case 'Interests':
                                    window.location.href = 'intrest.html';
                                    break;
                                case 'Account settings':
                                    window.location.href = 'settings-new.html';
                                    break;
                                case 'Log out':
                                    if (window.logout) {
                                        window.logout();
                                    } else {
                                        localStorage.removeItem('authToken');
                                        localStorage.removeItem('currentUser');
                                        window.location.href = 'index.html';
                                    }
                                    break;
                                case 'Organize':
                                    window.location.href = 'event-builder.html';
                                    break;
                                case 'Help':
                                    console.log('Help page - URL to be added');
                                    break;
                            }
                        });
                    });

                    // Mobile Search functionality
                    const searchBar = document.querySelector('.mobile-nav-container .search-bar');
                    const searchButton = document.querySelector('.mobile-nav-container .search-button');

                    if (searchButton && searchBar) {
                        searchButton.addEventListener('click', function () {
                            const searchTerm = searchBar.value.trim();
                            if (searchTerm) {
                                console.log('Mobile search for:', searchTerm);
                                alert('Searching for: ' + searchTerm);
                            }
                        });

                        searchBar.addEventListener('keypress', function (e) {
                            if (e.key === 'Enter') {
                                const searchTerm = this.value.trim();
                                if (searchTerm) {
                                    console.log('Mobile search for:', searchTerm);
                                    alert('Searching for: ' + searchTerm);
                                }
                            }
                        });
                    }
                }
            });
        </script>
    </div>

    <!-- Main Content -->
    <main class="main-content">

        <!-- Hero Section -->
        <section class="hero" id="heroLoggedOut">
            <!-- Banner Carousel -->
            <div class="banner-carousel">
                <div class="banner-slide active">
                    <img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=1920&h=800&fit=crop"
                        alt="August Events">
                </div>
                <div class="banner-slide">
                    <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=1920&h=800&fit=crop"
                        alt="Music Events">
                </div>
                <div class="banner-slide">
                    <img src="https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=1920&h=800&fit=crop"
                        alt="Food & Drink Events">
                </div>
                <div class="banner-dots">
                    <div class="dot active" onclick="currentSlide(1)"></div>
                    <div class="dot" onclick="currentSlide(2)"></div>
                    <div class="dot" onclick="currentSlide(3)"></div>
                </div>
            </div>

            <!-- Hero Overlay -->
            <div class="hero-overlay"></div>

            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title-main">
                        SEE <span class="hero-highlight">STORIES</span>
                        <br>
                        COME TO LIFE
                    </h1>
                    <p class="hero-subtitle">
                        Find unforgettable experiences, connect with your community, and create lasting memories through
                        incredible events near you.
                    </p>
                    <div class="hero-actions">
                        <button class="hero-btn primary" onclick="window.location.href='#signup'">
                            <span class="btn-text">Get Into The Arts</span>
                            <span class="btn-arrow">→</span>
                        </button>
                        <button class="hero-btn secondary" onclick="window.location.href='#events'">
                            <span class="btn-icon">🔍</span>
                            <span class="btn-text">Browse Events</span>
                        </button>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number">50K+</div>
                            <div class="stat-label">Events</div>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <div class="stat-number">2M+</div>
                            <div class="stat-label">Users</div>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <div class="stat-number">150+</div>
                            <div class="stat-label">Cities</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section class="categories">
            <div class="container">
                <div class="category-navigation">
                    <div class="category-grid">
                        <!-- Music -->
                        <a href="Music Events_logged_in.html" class="category-card" data-category="music">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 0 40 41" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M12.813 5.003a7.812 7.812 0 00-4.705 14.05 2.5 2.5 0 004.24 2.137l.556-.555 12.322 10.47c.247.21.614.195.845-.033l.517-.512c.494.43 1.141.693 1.85.693a2.8 2.8 0 001.497-.431l3.998 3.998a.625.625 0 00.884-.884l-3.998-3.998a2.8 2.8 0 00.43-1.497c0-.698-.254-1.337-.674-1.828l.546-.54a.625.625 0 00.035-.85L20.633 12.905l.554-.554a2.5 2.5 0 00-2.137-4.24 7.801 7.801 0 00-6.237-3.109zm15.624 25c-.36 0-.692-.122-.956-.327l2.201-2.18a1.562 1.562 0 01-1.245 2.507zm-8.691-16.21L18.1 15.439a.625.625 0 11-.884-.884l3.087-3.087A1.25 1.25 0 0018.535 9.7L9.697 18.54a1.25 1.25 0 101.768 1.768l3.072-3.073a.625.625 0 01.884.884l-1.63 1.63L25.599 29.78l4.23-4.188-10.083-11.799zm-1.882-5.166a6.548 6.548 0 00-5.127-2.373l3.7 3.778 1.215-1.216c.068-.068.139-.131.212-.19zm-6.678-2.17a6.543 6.543 0 00-2.551 1.298l4.933 4.962a.626.626 0 01.082.101l1.902-1.902-4.366-4.46zM7.751 8.639a6.543 6.543 0 00-1.297 2.55l4.465 4.36 1.866-1.866a.632.632 0 01-.103-.085l-4.93-4.96zm-1.5 4.099v.078c0 2.03.922 3.847 2.372 5.051.059-.073.122-.144.19-.212l1.222-1.222-3.784-3.695zm14.816 4.948a.625.625 0 00-.884.884l1.25 1.25a.625.625 0 10.884-.884l-1.25-1.25z" />
                                </svg>
                            </div>
                            <p class="category-title">Music</p>
                        </a>

                        <!-- Nightlife -->
                        <a href="NIGHTLIFE.html" class="category-card" data-category="nightlife">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 0 47 48" fill="none">
                                    <path
                                        d="M24.53 13.221V.528A.527.527 0 0023.998 0a.532.532 0 00-.53.528v12.693a17.562 17.562 0 00-12.036 5.294 17.41 17.41 0 00-4.945 12.141v.423a.461.461 0 000 .105.636.636 0 00.016.124 17.401 17.401 0 005.38 11.846A17.55 17.55 0 0023.999 48a17.55 17.55 0 0012.115-4.846 17.401 17.401 0 005.38-11.846.635.635 0 00.015-.137.456.456 0 000-.105v-.423A17.41 17.41 0 0036.56 18.51a17.562 17.562 0 00-12.03-5.289zM37.895 39.39c-.906.477-1.812.909-2.72 1.295a31.011 31.011 0 001.104-3.699 61.644 61.644 0 003.16-.7 16.199 16.199 0 01-1.544 3.104zm-8.968 6.868c.22-.907.421-1.813.605-2.72a30.576 30.576 0 003.752-1.007 45.569 45.569 0 01-1.144 2.33 16.34 16.34 0 01-3.213 1.408v-.01zm-4.399.764v-2.938c1.3-.022 2.598-.135 3.882-.338a66.483 66.483 0 01-.655 2.84 16.406 16.406 0 01-3.227.436zm-4.563-.486a71.455 71.455 0 01-.655-2.837c1.374.231 2.764.36 4.157.385v2.938a16.597 16.597 0 01-3.502-.5v.014zM15.74 44.81a36.2 36.2 0 01-1.123-2.314c1.17.398 2.361.727 3.569.985.177.904.377 1.805.6 2.705a16.397 16.397 0 01-3.046-1.39v.014zm-7.182-8.525a68.47 68.47 0 003.112.684 31.113 31.113 0 001.061 3.664 35.369 35.369 0 01-2.634-1.244 16.224 16.224 0 01-1.54-3.104zm.87-13.229a39.748 39.748 0 013.025-1.44 31.091 31.091 0 00-.99 3.884c-1.1.21-2.2.45-3.298.715.31-1.093.733-2.152 1.263-3.159zm6.367-6.604a16.522 16.522 0 013.022-1.355 84.438 84.438 0 00-.796 3.661 31.65 31.65 0 00-3.775 1.054c.44-1.1.95-2.198 1.528-3.291.006-.02.01-.04.014-.061l.008-.008zm7.694-2.182v3.883a29.09 29.09 0 00-4.321.394 68.19 68.19 0 01.84-3.796 16.427 16.427 0 013.46-.473l.021-.008zm4.29.423c.328 1.277.614 2.554.86 3.833a29.332 29.332 0 00-4.11-.365v-3.883a16.46 16.46 0 013.23.423l.02-.008zm4.394 1.725a34.807 34.807 0 011.618 3.407 31.778 31.778 0 00-4.035-1.096 72.59 72.59 0 00-.796-3.72c1.111.36 2.181.834 3.192 1.417l.021-.008zm7.694 9.795a67.61 67.61 0 00-3.276-.708 29.902 29.902 0 00-.99-3.87c1.001.417 2.002.888 3.003 1.413a16.023 16.023 0 011.229 3.173l.034-.008zm-10.092 4.43H24.53v-5.268c1.681.013 3.362.093 5.04.24.138 1.674.206 3.35.205 5.028zm-5.245-6.324v-5.093a28.48 28.48 0 014.292.422 62.16 62.16 0 01.663 4.898 66.634 66.634 0 00-4.956-.227zm-1.062 0a68.03 68.03 0 00-5.19.24c.16-1.627.381-3.255.664-4.884a28.19 28.19 0 014.526-.452v5.096zm0 1.056v5.284H17.98c0-1.67.068-3.343.204-5.02a62.16 62.16 0 015.285-.266v.002zm-6.55 5.268H12.04c.008-1.416.124-2.829.348-4.227 1.57-.28 3.145-.503 4.722-.67a63.74 63.74 0 00-.193 4.897zm0 1.056c.026 1.684.115 3.364.265 5.04a62.391 62.391 0 01-4.63-.678 27.35 27.35 0 01-.493-4.361h4.858zm1.061 0h5.49v5.413a62.638 62.638 0 01-5.196-.264 63.304 63.304 0 01-.289-5.148h-.005zm5.49 6.47v4.85a27.049 27.049 0 01-4.378-.454 64.104 64.104 0 01-.703-4.645 62.99 62.99 0 005.08.249zm1.06 0a65.708 65.708 0 004.819-.22 61.172 61.172 0 01-.717 4.679 27.253 27.253 0 01-4.102.394v-4.853zm0-1.057V31.7h5.238a64.504 64.504 0 01-.305 5.183c-1.642.143-3.286.22-4.933.233v-.003zm6.299-5.413h5.11a27.48 27.48 0 01-.53 4.38 64.14 64.14 0 01-4.85.7c.151-1.696.242-3.389.27-5.08zm0-1.056a65.48 65.48 0 00-.186-4.927c1.661.176 3.32.41 4.977.703.221 1.398.33 2.811.327 4.226l-5.118-.002zm5.906-4.015a71.57 71.57 0 013.38.75 16.36 16.36 0 01.334 3.265h-3.425a27.583 27.583 0 00-.29-4.015zm-1.308-1.321a68.862 68.862 0 00-4.871-.663 63.366 63.366 0 00-.624-4.782 31.5 31.5 0 014.335 1.271 29.074 29.074 0 011.165 4.176l-.005-.002zm-17.598-5.413a68.327 68.327 0 00-.626 4.755c-1.543.159-3.08.37-4.614.634a30.505 30.505 0 011.165-4.192c1.33-.49 2.69-.89 4.075-1.197zm-9.95 7.484c1.13-.285 2.265-.54 3.402-.764-.2 1.334-.301 2.68-.305 4.029H7.55c0-1.097.11-2.19.329-3.265zm3.12 4.322c.05 1.391.203 2.777.457 4.147a66.322 66.322 0 01-3.234-.735h-.035a16.383 16.383 0 01-.6-3.413H11zm1.829 5.48c1.496.265 2.992.476 4.489.635a65.42 65.42 0 00.663 4.52 30.387 30.387 0 01-3.9-1.173 30.247 30.247 0 01-1.263-3.981h.01zm16.934 5.234a68.85 68.85 0 00.677-4.562 64.906 64.906 0 004.704-.65 31.24 31.24 0 01-1.295 4.015 29.614 29.614 0 01-4.096 1.197h.01zm10.082-7.307h-.037a69.373 69.373 0 01-3.269.748c.257-1.372.411-2.761.462-4.155h3.412a16.384 16.384 0 01-.589 3.407h.021zm-2.276-13.736a42.495 42.495 0 00-2.444-1.057 35.49 35.49 0 00-1.156-2.705 16.606 16.606 0 013.579 3.756l.02.006zm-23.53-3.749c-.414.88-.787 1.77-1.118 2.666-.82.317-1.636.673-2.454 1.056a16.513 16.513 0 013.572-3.722zm-2.574 23.606c.598.273 1.195.526 1.79.758.221.528.454 1.078.707 1.617a16.42 16.42 0 01-2.497-2.375zm22.445 2.478c.265-.555.507-1.11.738-1.665.626-.243 1.25-.507 1.873-.792a16.635 16.635 0 01-2.61 2.457z" />
                                </svg>
                            </div>
                            <p class="category-title">Nightlife</p>
                        </a>

                        <!-- Performing & Visual Arts -->
                        <a href="#" class="category-card" data-category="arts" onclick="navigateToArtsPage()">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 0 40 41" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M5.625 5.002a.625.625 0 00-.623.67l.992 13.75a.632.632 0 00.006.056c.214 4.119 3.598 7.4 7.75 7.4a7.69 7.69 0 004.588-1.512l.16 2.173c.181 4.149 3.578 7.463 7.752 7.463 4.174 0 7.571-3.314 7.754-7.464l.994-13.74a.625.625 0 00-.623-.67h-.206a.62.62 0 00-.12.01c-1.894.374-4.678.614-7.799.614-1.544 0-3.009-.059-4.325-.164l.573-7.916a.625.625 0 00-.623-.67h-.206a.626.626 0 00-.12.012c-1.894.373-4.678.613-7.799.613-3.121 0-5.905-.24-7.798-.613a.625.625 0 00-.121-.012h-.206zm16.21 9.833l-.331 4.578a7.815 7.815 0 01-1.991 4.884l.232 3.16v.02c.15 3.494 3.009 6.275 6.505 6.275s6.355-2.78 6.505-6.277v-.008l.001-.01.94-12.983c-1.953.33-4.576.528-7.446.528-1.571 0-3.065-.06-4.415-.167zM13.75 6.877c-2.87 0-5.493-.199-7.446-.528l.932 12.913c.005.029.009.059.01.09.149 3.494 3.008 6.275 6.504 6.275 3.496 0 6.355-2.78 6.505-6.277l.001-.018.94-12.983c-1.953.33-4.576.528-7.446.528z" />
                                </svg>
                            </div>
                            <p class="category-title">Performing & Visual Arts</p>
                        </a>

                        <!-- Holidays -->
                        <a href="#" class="category-card active" data-category="holidays">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 0 28 36" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M7.676 0a.75.75 0 01.75.75v.75h12V.75a.75.75 0 011.5 0v.75h5.25a.75.75 0 01.75.75v33a.75.75 0 01-.75.75h-25.5a.75.75 0 01-.75-.75v-33a.75.75 0 01.75-.75h5.25V.75a.75.75 0 01.75-.75zm-.75 3.75V3h-4.5v6h3.75a.75.75 0 010 1.5h-3.75v24h24v-24h-15.75a.75.75 0 010-1.5h15.75V3h-4.5v.75a.75.75 0 01-1.5 0V3h-12v.75a.75.75 0 01-1.5 0zM5.76 26.17a.75.75 0 11-.67-1.34l1.5-.75a.75.75 0 01.67 1.34l-1.5.75zm3.634-9.14l-1.5-1.5a.75.75 0 111.061-1.06l1.5 1.5a.75.75 0 11-1.06 1.06zm13.695 9.14a.75.75 0 10.671-1.34l-1.5-.75a.75.75 0 10-.67 1.34l1.5.75zm-4.695-9.14a.75.75 0 001.061 0l1.5-1.5a.75.75 0 10-1.06-1.06l-1.5 1.5a.75.75 0 000 1.06zm-4.72 15.22a.75.75 0 001.5 0v-1.5a.75.75 0 00-1.5 0v1.5zm-8.92-13.085a.75.75 0 011.006-.336l1.5.75a.75.75 0 11-.67 1.342l-1.5-.75a.75.75 0 01-.336-1.006zm3.14 10.305l1.5-1.5a.75.75 0 011.061 1.06l-1.5 1.5a.75.75 0 01-1.06-1.06zm16.202-10.305a.75.75 0 00-1.007-.336l-1.5.75a.75.75 0 10.671 1.342l1.5-.75a.75.75 0 00.336-1.006zm-4.64 8.805a.75.75 0 10-1.062 1.06l1.5 1.5a.75.75 0 101.061-1.06l-1.5-1.5zM14.425 12a.75.75 0 00-.75.75v1.5a.75.75 0 001.5 0v-1.5a.75.75 0 00-.75-.75zm-3.75 10.5a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zm3.75-5.25a5.25 5.25 0 100 10.5 5.25 5.25 0 000-10.5z" />
                                </svg>
                            </div>
                            <p class="category-title">Holidays</p>
                        </a>

                        <!-- Dating -->
                        <a href="DATING.html" class="category-card" data-category="dating">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 -5 45 45" fill="none">
                                    <path
                                        d="M18.498 20.1a.655.655 0 01-.686 0c-.913-.56-5.472-3.524-5.53-6.857-.027-1.568.75-2.879 2.028-3.422 1.232-.524 2.66-.221 3.845.782C19.34 9.6 20.767 9.297 22 9.821c1.277.543 2.054 1.854 2.028 3.422-.057 3.333-4.616 6.296-5.53 6.856zm4.186-6.882c.017-.999-.43-1.789-1.195-2.114-.896-.38-1.96-.035-2.848.924a.661.661 0 01-.486.214.662.662 0 01-.486-.215c-.649-.702-1.394-1.075-2.098-1.075-.257 0-.51.05-.75.152-.765.325-1.212 1.115-1.195 2.114.035 2.021 2.718 4.29 4.53 5.47 1.81-1.18 4.494-3.449 4.529-5.47zM43 9.71v22.4c0 1.896-1.493 3.438-3.327 3.438h-3.035v3.758a.691.691 0 01-.482.666.656.656 0 01-.754-.29l-2.585-4.135H17.148c-1.835 0-3.327-1.542-3.327-3.437v-2.836h-3.637L7.6 33.41a.667.667 0 01-.754.29.691.691 0 01-.482-.666v-3.758H3.327C1.493 29.275 0 27.733 0 25.838V3.437C0 1.54 1.493 0 3.327 0h29.798c1.835 0 3.327 1.542 3.327 3.437v2.836h3.22C41.507 6.273 43 7.815 43 9.71zm-9.875 18.177c1.094 0 1.983-.92 1.983-2.05v-22.4c0-1.13-.89-2.049-1.983-2.049H3.327c-1.094 0-1.983.92-1.983 2.049v22.4c0 1.13.89 2.05 1.983 2.05h3.707c.371 0 .672.31.672.693v2.099l1.548-2.475a.667.667 0 01.564-.317h23.307zM41.656 9.71c0-1.13-.89-2.05-1.983-2.05h-3.22v18.178c0 1.895-1.493 3.437-3.328 3.437h-17.96v2.836c0 1.13.889 2.048 1.983 2.048h16.034c.228 0 .44.12.564.318l1.547 2.475v-2.099c0-.383.301-.694.672-.694h3.707c1.094 0 1.984-.919 1.984-2.048V9.71z" />
                                </svg>
                            </div>
                            <p class="category-title">Dating</p>
                        </a>

                        <!-- Hobbies -->
                        <a href="Hobbies events.html" class="category-card" data-category="hobbies">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 0 32 32" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M19.004 4a.5.5 0 110 1h-.5A2.003 2.003 0 0016.5 7.003V9a.508.508 0 01-.004.062A2 2 0 0018 11h2a5.501 5.501 0 015.455 4.792c.009.02.016.04.023.06l2.29 7.39c.06.16.11.324.148.493l.003.014.03.155.002.009v.004a3.5 3.5 0 01-6.384 2.494c-.083-.127-1.03-1.599-2.84-4.411h-5.454c-1.81 2.814-2.76 4.289-2.845 4.418a3.5 3.5 0 01-6.189-3.192l2.283-7.374a.512.512 0 01.023-.06A5.501 5.501 0 0112 11h2a2 2 0 011.504-1.938A.508.508 0 0115.5 9V7.003A3.003 3.003 0 0118.503 4h.5zM16 10a1 1 0 011 1h-2a1 1 0 011-1zm-8.5 6.5A4.5 4.5 0 0112 12h8a4.5 4.5 0 013.887 6.77.5.5 0 10.863.505c.177-.303.326-.624.444-.96l1.623 5.24a2.465 2.465 0 01.122.392l.027.142a2.5 2.5 0 01-4.562 1.776L19.917 22H20c.797 0 1.556-.17 2.241-.476a.5.5 0 10-.408-.913c-.559.25-1.18.389-1.833.389h-8a4.5 4.5 0 01-4.5-4.5zm4.584 5.5H12a5.502 5.502 0 01-5.193-3.685L5.189 23.54a2.492 2.492 0 00-.19.96 2.5 2.5 0 004.593 1.37c.076-.116.906-1.404 2.492-3.869zm7.416-8.5a1 1 0 100 2 1 1 0 000-2zm-1 5a1 1 0 112 0 1 1 0 01-2 0zm3-3a1 1 0 100 2 1 1 0 000-2zm-5 1a1 1 0 112 0 1 1 0 01-2 0zm-5-2.5a.5.5 0 01.5.5V16h1.5a.5.5 0 010 1H12v1.5a.5.5 0 01-1 0V17H9.5a.5.5 0 110-1H11v-1.5a.5.5 0 01.5-.5z" />
                                </svg>
                            </div>
                            <p class="category-title">Hobbies</p>
                        </a>

                        <!-- Business -->
                        <a href="business_events.html" class="category-card" data-category="business">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 0 32 33" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M15.002 5.936L15 6.01v.493h2V6.01l-.002-.073a1 1 0 00-1.996 0zM18 6.502h9.5a.5.5 0 010 1H27v16h.5a.5.5 0 110 1h-3.172l.046.046.006.005.006.007.067.072.011.012a2 2 0 01-2.833 2.813l-.01-.01-.065-.06-.006-.007-.004-.003-2.875-2.875H13.41l-2.873 2.874-.01.01-.065.061-.01.01a2 2 0 01-2.834-2.813l.011-.012.068-.072.011-.012.046-.046H4.5a.5.5 0 010-1H5v-16h-.5a.5.5 0 010-1H14v-.514l.003-.089v-.014a2 2 0 013.994 0v.014l.003.089v.514zm-12 1v16h20v-16H6zm16.914 17h-2.828l2.162 2.162.053.05a1 1 0 001.416-1.405l-.055-.06-.748-.747zm-10.919 0H9.167l-.747.747-.056.60a1 1 0 001.416 1.405l.054-.05 2.161-2.162zM8.145 9.65a.5.5 0 01.355-.147h6a.5.5 0 01.5.496l.04 5.5a.5.5 0 11-1 .008l-.036-5.004H9.002l.036 10h5.002v-2a.5.5 0 111 0v2.5a.5.5 0 01-.5.5h-6a.5.5 0 01-.5-.498l-.04-11a.5.5 0 01.146-.355zM17 18.002a.5.5 0 100 1h6.5a.5.5 0 000-1H17zm-.5-2.5a.5.5 0 01.5-.5h5.5a.5.5 0 110 1H17a.5.5 0 01-.5-.5zm.5-3.5a.5.5 0 100 1h6.5a.5.5 0 000-1H17z" />
                                </svg>
                            </div>
                            <p class="category-title">Business</p>
                        </a>

                        <!-- Food & Drink -->
                        <a href="#" class="category-card" data-category="food-drink" onclick="navigateToFoodEvents(event)">
                            <div class="icon-wrapper">
                                <svg class="category-icon" viewBox="0 0 40 41" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M26.76 5.014a.625.625 0 01.721.462l1.444 5.777h5.45a.625.625 0 01.623.67l-1.659 22.5a.625.625 0 01-.623.58H21.66a.625.625 0 01-.624-.58l-.033-.457-.23.085c-1.667.595-3.928.951-6.397.951-2.468 0-4.73-.356-6.397-.951-.831-.297-1.548-.665-2.068-1.105C5.392 32.51 5 31.94 5 31.252c0-.528.234-.99.575-1.37l8.234-17.644a.625.625 0 011.132 0l5.295 11.345-.86-11.66a.625.625 0 01.624-.67h7.637L26.41 6.35l-9.42 1.766a.625.625 0 11-.231-1.228l10-1.875zm1.19 7.489h-7.277l.23 3.125H22.5a.625.625 0 110 1.25h-1.505l.72 9.768a.629.629 0 010 .104l1.461 3.133c.341.38.574.842.574 1.37 0 .686-.392 1.256-.91 1.693a4.752 4.752 0 01-.628.443l.027.363h9.896l1.245-16.874h-7.13a.625.625 0 110-1.25h2.48l-.78-3.125zm5.752 0l-.23 3.125H30c0-.05-.006-.101-.019-.152l-.743-2.973h4.464zM7.275 29.195L6.666 30.5a.626.626 0 01-.116.17c-.234.241-.3.437-.3.583 0 .177.098.429.466.74.365.307.93.613 1.682.881 1.5.536 3.613.88 5.977.88 2.364 0 4.477-.344 5.977-.88.753-.268 1.317-.574 1.682-.882.368-.31.466-.562.466-.739 0-.146-.066-.341-.299-.583a.625.625 0 01-.116-.17l-1.24-2.656a3.765 3.765 0 01-2.55.13 3.765 3.765 0 01-.631-6.946l-3.289-7.046-.626 1.341a3.763 3.763 0 01-3.046 6.526l-.932 1.999a3.77 3.77 0 012.778.418 3.763 3.763 0 11-5.274 4.93zm.857-1.838a2.514 2.514 0 002.508 2.664 2.512 2.512 0 10-1.727-4.336l-.78 1.672zm10.062-5.195l2.121 4.546a2.503 2.503 0 01-1.656.068 2.513 2.513 0 01-.465-4.614zm-6.924-1.527a2.512 2.512 0 001.913-4.1l-1.913 4.1z" />
                                </svg>
                            </div>
                            <p class="category-title">Food & Drink</p>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section class="events-section" id="events">
            <div class="container">
                <div class="location-selector">
                    <span>🌍 Browsing events in</span>
                    <div class="location-indicator">
                        <div class="live-indicator"></div>
                        <span>LIVE</span>
                    </div>
                    <select class="location-dropdown">
                        <option>Federal Capital Territory</option>
                        <option>Punjab</option>
                        <option>Sindh</option>
                        <option>Khyber Pakhtunkhwa</option>
                    </select>
                </div>

                <div class="filter-tabs">
                    <a href="#" class="filter-tab active">All</a>
                    <a href="#" class="filter-tab">For you</a>
                    <a href="#" class="filter-tab">Online</a>
                    <a href="#" class="filter-tab">Today</a>
                    <a href="#" class="filter-tab">This weekend</a>
                    <a href="#" class="filter-tab">Free</a>
                    <a href="#" class="filter-tab">Music</a>
                    <a href="#" class="filter-tab">Food & Drink</a>
                    <a href="#" class="filter-tab">Charity & Causes</a>
                </div>

                <h2 class="section-title">Events in Federal Capital Territory</h2>

                <div class="events-grid" id="eventsGrid">
                    <!-- Sample events for demo -->
                    <div class="event-card">
                        <div class="event-image" style="background: linear-gradient(45deg, #ff6b6b, #4ecdc4);"></div>
                        <div class="event-details">
                            <div class="event-date">SAT, JAN 15 • 7:00 PM</div>
                            <h3 class="event-title">Winter Music Festival</h3>
                            <div class="event-location">📍 Islamabad</div>
                            <div class="event-price">From PKR 2,500</div>
                        </div>
                    </div>
                    <div class="event-card">
                        <div class="event-image" style="background: linear-gradient(45deg, #a8edea, #fed6e3);"></div>
                        <div class="event-details">
                            <div class="event-date">SUN, JAN 16 • 2:00 PM</div>
                            <h3 class="event-title">Food & Culture Expo</h3>
                            <div class="event-location">📍 Lahore</div>
                            <div class="event-price">From PKR 1,000</div>
                        </div>
                    </div>
                    <div class="event-card">
                        <div class="event-image" style="background: linear-gradient(45deg, #ffecd2, #fcb69f);"></div>
                        <div class="event-details">
                            <div class="event-date">FRI, JAN 21 • 8:00 PM</div>
                            <h3 class="event-title">Tech Startup Meetup</h3>
                            <div class="event-location">📍 Karachi</div>
                            <div class="event-price">Free</div>
                        </div>
                    </div>
                    <div class="event-card">
                        <div class="event-image" style="background: linear-gradient(45deg, #667eea, #764ba2);"></div>
                        <div class="event-details">
                            <div class="event-date">SAT, JAN 22 • 6:00 PM</div>
                            <h3 class="event-title">Art Gallery Opening</h3>
                            <div class="event-location">📍 Rawalpindi</div>
                            <div class="event-price">From PKR 500</div>
                        </div>
                    </div>
                    <div class="event-card">
                        <div class="event-image" style="background: linear-gradient(45deg, #4facfe, #00f2fe);"></div>
                        <div class="event-details">
                            <div class="event-date">SUN, JAN 23 • 10:00 AM</div>
                            <h3 class="event-title">Fitness Bootcamp</h3>
                            <div class="event-location">📍 Islamabad</div>
                            <div class="event-price">From PKR 800</div>
                        </div>
                    </div>
                    <div class="event-card">
                        <div class="event-image" style="background: linear-gradient(45deg, #43e97b, #38f9d7);"></div>
                        <div class="event-details">
                            <div class="event-date">WED, JAN 26 • 7:30 PM</div>
                            <h3 class="event-title">Literature Reading</h3>
                            <div class="event-location">📍 Lahore</div>
                            <div class="event-price">Free</div>
                        </div>
                    </div>
                </div>

                <a href="#" class="see-more-btn">See more</a>
            </div>
        </section>


        <!-- Popular cities section -->
        <section class="popular-cities-section">
            <div class="container">
                <h2 class="section-title">Popular cities</h2>

                <div class="city-links">
                    <a href="#" class="city-link" onclick="searchByCity('Austin')">
                        Things to do in Austin
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Abilene')">
                        Things to do in Abilene
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Denver')">
                        Things to do in Denver
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Seattle')">
                        Things to do in Seattle
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Phoenix')">
                        Things to do in Phoenix
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link muted" onclick="searchByCity('Albuquerque')">
                        Things to do in Albuquerque
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Detroit')">
                        Things to do in Detroit
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Anaheim')">
                        Things to do in Anaheim
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Raleigh')">
                        Things to do in Raleigh
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Baltimore')">
                        Things to do in Baltimore
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Nashville')">
                        Things to do in Nashville
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link muted" onclick="searchByCity('Wichita')">
                        Things to do in Wichita
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('Indianapolis')">
                        Things to do in Indianapolis
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                    <a href="#" class="city-link" onclick="searchByCity('San Antonio')">
                        Things to do in San Antonio
                        <svg class="arrow" viewBox="0 0 24 24">
                            <path d="M7 17L17 7M17 7H7M17 7V17" />
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Top destinations -->
        <section class="cities-section">
            <div class="container">
                <header class="cities-header">
                    <h1 class="title">Top destinations in United States</h1>
                </header>

                <div class="destinations-grid">
                    <div class="destination-card card-newyork">
                        <img src="https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                            alt="New York City" class="card-image">
                        <div class="card-content">
                            <h2 class="city-name">New York</h2>
                        </div>
                    </div>

                    <div class="destination-card card-losangeles">
                        <img src="https://images.unsplash.com/photo-1444723121867-7a241cacace9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                            alt="Los Angeles" class="card-image">
                        <div class="card-content">
                            <h2 class="city-name">Los Angeles</h2>
                        </div>
                    </div>

                    <div class="destination-card card-chicago">
                        <img src="https://images.unsplash.com/photo-1477414348463-c0eb7f1359b6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                            alt="Chicago" class="card-image">
                        <div class="card-content">
                            <h2 class="city-name">Chicago</h2>
                        </div>
                    </div>

                    <div class="destination-card card-washington">
                        <img src="https://images.unsplash.com/photo-1551632811-561732d1e306?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                            alt="Washington DC" class="card-image">
                        <div class="card-content">
                            <h2 class="city-name">Washington</h2>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Use Crowd</h3>
                    <a href="#">Create Events</a>
                    <a href="#">Pricing</a>
                    <a href="#">Event Marketing Platform</a>
                    <a href="#">Crowd Mobile Ticket App</a>
                    <a href="#">Crowd Check-In App</a>
                    <a href="#">Event Registration Software</a>
                    <a href="#">Community Guidelines</a>
                    <a href="#">FAQs</a>
                    <a href="#">Sitemap</a>
                </div>

                <div class="footer-section">
                    <h3>Plan Events</h3>
                    <a href="#">Sell Tickets Online</a>
                    <a href="#">Event Management Software</a>
                    <a href="#">Virtual Events Platform</a>
                    <a href="#">Event Payment System</a>
                    <a href="#">QR Codes for Event Check-In</a>
                    <a href="#">Post your event online</a>
                </div>

                <div class="footer-section">
                    <h3>Find Events</h3>
                    <a href="#">Islamabad Food & Drink Events</a>
                    <a href="#">Karachi Holiday Events</a>
                    <a href="#">Lahore Music Events</a>
                    <a href="#">Rawalpindi Events</a>
                    <a href="#">Events in Pakistan Today</a>
                </div>

                <div class="footer-section">
                    <h3>Connect With Us</h3>
                    <a href="#">Contact Support</a>
                    <a href="#">Contact Sales</a>
                    <a href="#">Facebook</a>
                    <a href="#">Instagram</a>
                    <a href="#">Twitter</a>
                    <a href="#">LinkedIn</a>
                </div>
            </div>

            <div class="footer-bottom">
                <div>© 2025 Crowd</div>
                <div class="footer-links">
                    <a href="#">About</a>
                    <a href="#">Blog</a>
                    <a href="#">Help</a>
                    <a href="#">Careers</a>
                    <a href="#">Press</a>
                    <a href="#">Terms</a>
                    <a href="#">Privacy</a>
                    <a href="#">Accessibility</a>
                    <a href="#">Cookies</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- MongoDB Auth API -->
    <script src="js/auth-mongodb.js"></script>

    <!-- Mobile Menu Toggle Script -->
    <script>
        // Mobile Navigation Toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');

            if (!mobileMenu || !mobileMenuToggle) return;

            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
                mobileMenuToggle.classList.remove('active');
                mobileMenuToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
            } else {
                mobileMenu.classList.add('active');
                mobileMenuToggle.classList.add('active');
                mobileMenuToggle.setAttribute('aria-expanded', 'true');
                document.body.style.overflow = 'hidden';
            }
        }

        // Initialize mobile menu when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize mobile menu toggle
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', toggleMobileMenu);
            }

            // Close mobile menu when clicking on nav items
            const mobileNavLinks = document.querySelectorAll('.mobile-menu .mobile-menu-item');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    const mobileMenu = document.querySelector('.mobile-menu');
                    if (mobileMenu && mobileMenu.classList.contains('active')) {
                        toggleMobileMenu();
                    }
                });
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', function (event) {
                const mobileMenu = document.querySelector('.mobile-menu');
                const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
                if (mobileMenu && mobileMenu.classList.contains('active')) {
                    if (!mobileMenu.contains(event.target) && !mobileMenuToggle.contains(event.target)) {
                        toggleMobileMenu();
                    }
                }
            });

            // Handle window resize for mobile menu
            window.addEventListener('resize', function () {
                if (window.innerWidth > 768) {
                    const mobileMenu = document.querySelector('.mobile-menu');
                    const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
                    if (mobileMenu && mobileMenu.classList.contains('active')) {
                        mobileMenu.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        mobileMenuToggle.setAttribute('aria-expanded', 'false');
                        document.body.classList.remove('mobile-menu-open');
                    }
                }
            });

            // Wire any mobile logout controls to the desktop logout function/link
            const desktopLogout = document.getElementById('logoutLink');
            if (desktopLogout) {
                // optional: ensure clicks on the floating dropdown logout run the same handler
                desktopLogout.addEventListener('click', function (e) {
                    // default behavior handled elsewhere
                });
            }
        });
        
        // Function to navigate to food events with authentication context
        function navigateToFoodEvents(event) {
            event.preventDefault();
            
            // Get current user data from logged_in_Version.html storage
            const token = localStorage.getItem('authToken') || localStorage.getItem('crowd_auth_token') || sessionStorage.getItem('crowd_auth_token');
            const currentUser = localStorage.getItem('currentUser');
            
            console.log('Navigating to food events with user:', currentUser ? JSON.parse(currentUser) : 'No user');
            
            if (token && currentUser) {
                // Pass both token and user data
                const userDataEncoded = encodeURIComponent(currentUser);
                window.location.href = `food_events.html?token=${encodeURIComponent(token)}&user=${userDataEncoded}&from=logged_in`;
            } else if (currentUser) {
                // Pass user data even without token
                const userDataEncoded = encodeURIComponent(currentUser);
                window.location.href = `food_events.html?user=${userDataEncoded}&from=logged_in`;
            } else {
                // Fallback to normal navigation with logged-in flag
                window.location.href = 'food_events.html?from=logged_in';
            }
        }
        
        // Function to navigate to Performing & Visual Arts page with authentication context
        function navigateToArtsPage() {
            // Get current user data from logged_in_Version.html storage
            const token = localStorage.getItem('authToken') || localStorage.getItem('crowd_auth_token') || sessionStorage.getItem('crowd_auth_token');
            const currentUser = localStorage.getItem('currentUser');
            
            console.log('🎭 Navigating to Performing & Visual Arts page with user:', currentUser ? JSON.parse(currentUser) : 'No user');
            
            if (token && currentUser) {
                // Pass both token and user data
                const userDataEncoded = encodeURIComponent(currentUser);
                console.log('✅ Navigating with full authentication data');
                window.location.href = `Performing & Visual Arts projects.html?token=${encodeURIComponent(token)}&user=${userDataEncoded}&from=logged_in`;
            } else if (currentUser) {
                // Pass user data even without token
                const userDataEncoded = encodeURIComponent(currentUser);
                console.log('⚠️ Navigating with user data only (no token)');
                window.location.href = `Performing & Visual Arts projects.html?user=${userDataEncoded}&from=logged_in`;
            } else {
                // Fallback to normal navigation with logged-in flag
                console.log('📍 Fallback navigation - no auth data available');
                window.location.href = 'Performing & Visual Arts projects.html?from=logged_in';
            }
        }
    </script>

    <!-- Configuration -->
    <script src="js/config.js"></script>
    <!-- Events API Integration -->
    <script src="js/events-api.js"></script>
    <!-- Main API Integration Script -->
    <script src="js/api-integration.js"></script>

    <style>
        /* Touch-friendly interactions */
        @media (hover: none) and (pointer: coarse) {

            .card:hover,
            .event-card:hover {
                transform: none;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            /* Increase touch target sizes */
            .category-card {
                min-height: 48px;
                padding: 1rem 0.75rem;
            }

            .hero-btn,
            .search-btn,
            .nav-action-item {
                min-height: 44px;
                min-width: 44px;
            }

            .mobile-menu-toggle {
                min-height: 44px;
                min-width: 44px;
                padding: 0.75rem;
            }

            /* Add touch state feedback */
            .category-card:active,
            .event-card:active {
                transform: scale(0.98);
                transition: transform 0.1s;
            }

            .hero-btn:active,
            .search-btn:active {
                transform: scale(0.95);
                transition: transform 0.1s;
            }

            /* Improve tap highlight */
            .category-card,
            .event-card,
            .hero-btn,
            .search-btn,
            .nav-action-item {
                -webkit-tap-highlight-color: rgba(240, 85, 55, 0.1);
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                user-select: none;
            }
        }
    </style>
</body>

</html>